/*! extensio - v0.0.2 - 2012-07-02
* Copyright (c) 2012 Tom Ashworth; MIT License */
var xio;window.xio=xio=function(a){if(a===undefined)return console.log("xio requires jQuery.");var b={id:"xio",env:{chrome:1,firefox:2,safari:3}},c=function(){this.logging=!0,this.env=0,chrome?this.env=b.env.chrome:safari?this.env=b.env.safari:self&&self.extension?this.env=b.env.firefox:this.error({err:"Environment not known.",fatal:!0})};return c.prototype.error=function(c){typeof c=="string"&&(c={err:[c],fatal:!1}),a.isArray(c.err)||(c.err=[c.err]);var d=[b.id,":"].concat(c.err);if(c.fatal)throw d.join(" ");return this.logging&&console.log.apply(console,d),d.join(" ")},c.prototype.build=function(b){if(!a.isArray(b))return this.error({err:"ob must be an array for DOM building."});var c=b[0];if(typeof c!="string")return this.error({err:"The first element of the DOM array must be a string."});var d=b[1];if(d===undefined||typeof d!="object")a.isArray(d)&&this.error({err:"The second element of the DOM array should be an attribute object, not an array. The child elements should be from the third element onward."}),d={};var e=["<",c,"/>"].join(""),f=a(e,d),g=2,h=b.length,i=h-g,j;if(i>0)for(;g<h;g++)typeof b[g]=="string"?a(f).html(a(f).html()+b[g]):a(f).append(this.build(b[g]));return f[0]},c.prototype.css=function(b){if(typeof b!="object")return this.error({err:"ob must be an object for CSS insertion."});var c=[],d=[],e,f;for(f in b)if(b.hasOwnProperty(f)){if(typeof f!="string"){this.error({err:"CSS selector must be a string."});continue}c=c.concat([f," {"]),d=[];for(e in b[f])if(b[f].hasOwnProperty(e)){if(typeof e!="string"){this.error({err:"CSS attribute must be a string."});continue}if(typeof b[f][e]!="string"){this.error({err:"CSS value must be a string."});continue}d=d.concat([e,":",b[f][e],";"])}c=c.concat(d),c=c.concat(["}\n"])}var g=a("<style/>",{text:c.join("")});return a("head").append(g),g[0]},c.prototype.insert=function(b){if(typeof b!="object")return this.error({err:"ob must be an object for DOM insertion."});typeof b.container!="string"&&(this.error({err:"It is best to specify a container when using xio.insert."}),b.container="body");if(!a.isArray(b.build))return this.error({err:"ob.build must be valid input for xio.build."});var c=this.build(b.build);return b.after&&typeof b.after=="string"?a(b.after,b.container).after(c):b.before&&typeof b.before=="string"?a(b.before,b.container).before(c):b.prepend===!0?a(b.container).prepend(c):a(b.container).append(c),c},new c}(jQuery);